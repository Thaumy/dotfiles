From a42a126e7e28243350f5a1caa71b3fff6507d7da Mon Sep 17 00:00:00 2001
From: Thaumy Cheng <thaumy.love@gmail.com>
Date: Mon, 23 Feb 2026 21:23:11 +0800
Subject: [PATCH] add ultra-large zoom level

---
 data/org.gnome.nautilus.gschema.xml |  3 ++-
 src/nautilus-enums.h                |  2 ++
 src/nautilus-grid-view.c            |  8 +++++++-
 src/nautilus-list-base.c            |  2 +-
 src/nautilus-ui-utilities.c         | 16 ++++++++++++++++
 src/nautilus-view-cell.c            |  2 +-
 6 files changed, 29 insertions(+), 4 deletions(-)

diff --git a/data/org.gnome.nautilus.gschema.xml b/data/org.gnome.nautilus.gschema.xml
index 3c14aa4d5..6881aff1e 100644
--- a/data/org.gnome.nautilus.gschema.xml
+++ b/data/org.gnome.nautilus.gschema.xml
@@ -47,6 +47,7 @@
     <value value="2" nick="medium"/>
     <value value="3" nick="large"/>
     <value value="4" nick="extra-large"/>
+    <value value="5" nick="ultra-large"/>
   </enum>
 
   <enum id="org.gnome.nautilus.ListZoomLevel">
@@ -208,7 +209,7 @@
       <aliases>
         <alias value='standard' target='small-plus'/>
         <alias value='larger' target='extra-large'/>
-        <alias value='largest' target='extra-large'/>
+        <alias value='largest' target='ultra-large'/>
       </aliases>
       <default>'medium'</default>
       <summary>Default icon view zoom level</summary>
diff --git a/src/nautilus-enums.h b/src/nautilus-enums.h
index 13e431953..fe6476d7c 100644
--- a/src/nautilus-enums.h
+++ b/src/nautilus-enums.h
@@ -35,6 +35,7 @@ typedef enum
     NAUTILUS_GRID_ICON_SIZE_MEDIUM      = 96,
     NAUTILUS_GRID_ICON_SIZE_LARGE       = 168,
     NAUTILUS_GRID_ICON_SIZE_EXTRA_LARGE = 256,
+    NAUTILUS_GRID_ICON_SIZE_ULTRA_LARGE = 512,
 } NautilusGridIconSize;
 
 typedef enum
@@ -44,6 +45,7 @@ typedef enum
     NAUTILUS_GRID_ZOOM_LEVEL_MEDIUM,
     NAUTILUS_GRID_ZOOM_LEVEL_LARGE,
     NAUTILUS_GRID_ZOOM_LEVEL_EXTRA_LARGE,
+    NAUTILUS_GRID_ZOOM_LEVEL_ULTRA_LARGE,
 } NautilusGridZoomLevel;
 
 typedef enum
diff --git a/src/nautilus-grid-view.c b/src/nautilus-grid-view.c
index 362d3cc53..30d377917 100644
--- a/src/nautilus-grid-view.c
+++ b/src/nautilus-grid-view.c
@@ -41,7 +41,7 @@ static const NautilusViewInfo grid_view_info =
 {
     .view_id = NAUTILUS_VIEW_GRID_ID,
     .zoom_level_min = NAUTILUS_GRID_ZOOM_LEVEL_SMALL,
-    .zoom_level_max = NAUTILUS_GRID_ZOOM_LEVEL_EXTRA_LARGE,
+    .zoom_level_max = NAUTILUS_GRID_ZOOM_LEVEL_ULTRA_LARGE,
     .zoom_level_standard = NAUTILUS_GRID_ZOOM_LEVEL_MEDIUM,
 };
 
@@ -139,6 +139,12 @@ get_icon_size_for_zoom_level (NautilusGridZoomLevel zoom_level)
             return NAUTILUS_GRID_ICON_SIZE_EXTRA_LARGE;
         }
         break;
+
+        case NAUTILUS_GRID_ZOOM_LEVEL_ULTRA_LARGE:
+        {
+            return NAUTILUS_GRID_ICON_SIZE_ULTRA_LARGE;
+        }
+        break;
     }
     g_return_val_if_reached (NAUTILUS_GRID_ICON_SIZE_MEDIUM);
 }
diff --git a/src/nautilus-list-base.c b/src/nautilus-list-base.c
index 4f4060c2c..f7330a7bd 100644
--- a/src/nautilus-list-base.c
+++ b/src/nautilus-list-base.c
@@ -1230,7 +1230,7 @@ nautilus_list_base_class_init (NautilusListBaseClass *klass)
     properties[PROP_ICON_SIZE] = g_param_spec_uint ("icon-size",
                                                     "", "",
                                                     NAUTILUS_LIST_ICON_SIZE_SMALL,
-                                                    NAUTILUS_GRID_ICON_SIZE_EXTRA_LARGE,
+                                                    NAUTILUS_GRID_ICON_SIZE_ULTRA_LARGE,
                                                     NAUTILUS_GRID_ICON_SIZE_LARGE,
                                                     G_PARAM_READABLE | G_PARAM_STATIC_STRINGS);
     properties[PROP_MODEL] = g_param_spec_object ("model", NULL, NULL,
diff --git a/src/nautilus-ui-utilities.c b/src/nautilus-ui-utilities.c
index ae2e3f4c6..5cea83cc4 100644
--- a/src/nautilus-ui-utilities.c
+++ b/src/nautilus-ui-utilities.c
@@ -27,6 +27,7 @@
 
 #include <gio/gio.h>
 #include <gtk/gtk.h>
+#include <nautilus-enums.h>
 #include <string.h>
 #include <glib/gi18n.h>
 
@@ -504,6 +505,11 @@ get_dash_width (guint size)
             return 5.0;
         }
 
+        case NAUTILUS_GRID_ICON_SIZE_ULTRA_LARGE:
+        {
+            return 6.0;
+        }
+
         default:
         {
             g_assert_not_reached ();
@@ -554,6 +560,11 @@ get_dash_length (guint size)
             return 25;
         }
 
+        case NAUTILUS_GRID_ICON_SIZE_ULTRA_LARGE:
+        {
+            return 30;
+        }
+
         default:
         {
             g_assert_not_reached ();
@@ -604,6 +615,11 @@ get_dash_radius (guint size)
             return 13.33;
         }
 
+        case NAUTILUS_GRID_ICON_SIZE_ULTRA_LARGE:
+        {
+            return 16.0;
+        }
+
         default:
         {
             g_assert_not_reached ();
diff --git a/src/nautilus-view-cell.c b/src/nautilus-view-cell.c
index 0e4a33170..6ea5380fd 100644
--- a/src/nautilus-view-cell.c
+++ b/src/nautilus-view-cell.c
@@ -172,7 +172,7 @@ nautilus_view_cell_class_init (NautilusViewCellClass *klass)
     properties[PROP_ICON_SIZE] = g_param_spec_uint ("icon-size",
                                                     "", "",
                                                     NAUTILUS_LIST_ICON_SIZE_SMALL,
-                                                    NAUTILUS_GRID_ICON_SIZE_EXTRA_LARGE,
+                                                    NAUTILUS_GRID_ICON_SIZE_ULTRA_LARGE,
                                                     NAUTILUS_GRID_ICON_SIZE_LARGE,
                                                     G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS);
 
-- 
2.52.0

